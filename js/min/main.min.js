function isElementInViewport(e){e instanceof jQuery&&(e=e[0]);var s=e.getBoundingClientRect();return 0==s.top}$(document).ready(function(){function e(){s(),$(".revViewport").css({transform:"translate(0px, 0px)","-webkit-transform":"translate(0px, 0px)"}),$(".revBulletActive").removeClass("revBulletActive"),$(".revBullet").eq(0).addClass("revBullet revBulletActive"),$(".revWrapActive").removeClass("revWrapActive"),$(".revWrap").eq(0).addClass("revWrapActive"),g=$("#screensWrap .filtered"),b=1,$(window).width()<768?(B=g.length,g.length<1?$(".screensArrows").hide():($(".screensArrows").show(),x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))):$(window).width()>=768&&$(window).width()<=1070?(B=Math.ceil(g.length/2),g.length<3?$(".screensArrows").hide():($(".screensArrows").show(),x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))):(B=Math.ceil(g.length/4),g.length<5?$(".screensArrows").hide():($(".screensArrows").show(),x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))),$("#screensWrapOuter").css({transform:"translate(0px, 0px)","-webkit-transform":"translate(0px, 0px)"})}function s(){n=r.height(),t.css("top",n),o.css("max-width",o.parent().parent().width()),n-100>$(window).height()?r.css("position","absolute"):r.css("position","fixed")}var r=$("#topContainer"),t=($("#testimonials").offset().top,$("#contentWrapper")),a=$("#navigationWrap"),n=($(window),0),i=$("#followMenu"),o=$(".revWrap"),l=($("#reviewContainer"),$("#responsiveMenuToggle"));$(".mainMenu").clone().prependTo("#followMenu");var c,v=$("#followMenu .mainMenu"),d=76,w=v.find("a"),A=w.map(function(){var e=$($(this).attr("href"));return e.length?e:void 0});window.setTimeout(s,0),$(window).scroll(function(){bgPos=.8*$(window).scrollTop()+430,$(".textureBgSection").css("background-position","0px "+bgPos+"px");var e=$(this).scrollTop()+d,s=A.map(function(){return $(this).offset().top<=e+5?this:void 0});s=s[s.length-1];var r=s&&s.length?s[0].id:"";c!==r&&(c=r,w.parent().removeClass("menuActive").end().filter("[href=#"+r+"]").parent().addClass("menuActive")),0!==n&&$(window).scrollTop()+50>n?i.hasClass("fmshown")||i.addClass("fmshown"):i.hasClass("fmshown")&&i.removeClass("fmshown")}),$(".mainMenu a, #layerslider a").click(function(e){e.preventDefault();var s=$(this).attr("href");$("html,body").animate({scrollTop:$(s).offset().top-d},800)});var p=$(".revWrap").length,a=$("#revsNavi");$(".revWrap").eq(0).addClass("revWrapActive");for(var h=0;p>h;h++){var f=document.createElement("span");f.className="revBullet",f.onclick=function(){if("revBullet revBulletActive"!=this.className){var e=$("#revsNavi span").index(this),s=$(".revWrap").eq(0).width();$(".revViewport").css({transform:"translate("+s*e*-1+"px, 0px)","-webkit-transform":"translate("+s*e*-1+"px, 0px)"}),$(".revWrapActive").removeClass("revWrapActive"),$(".revWrap").eq(e).addClass("revWrapActive"),$(".revBulletActive").removeClass("revBulletActive"),$(".revBullet").eq(e).addClass("revBulletActive")}},0==h?(f.className="revBullet revBulletActive",a.append(f)):a.append(f)}var m=$("#screensWrap");m.shuffle({itemSelector:".screen-item",speed:500,columnWidth:279,gutterWidth:18});var u=$(".filter-options"),C=u.children();C.on("click",function(){var e=$(this),s=e.hasClass("active"),r=s?"all":e.data("group");s||$(".filter-options .active").removeClass("active"),e.toggleClass("active"),m.shuffle("shuffle",r)}),C=null;var g=$("#screensWrap .filtered"),x=$("#screensRightAr"),W=$("#screensLeftAr"),B=0,b=1;$(window).width()<768?(B=$("#screensWrap .filtered").length,g.length<1?$(".screensArrows").hide():(x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))):$(window).width()>=768&&$(window).width()<=1070?(B=Math.ceil(g.length/2),g.length<3?$(".screensArrows").hide():(x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))):(B=Math.ceil(g.length/4),g.length<5?$(".screensArrows").hide():(x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))),x.click(function(){if(x.hasClass("screensArrowsActive")){var e=$("#screensOfHide").width()+18;$("#screensWrapOuter").css({transform:"translate(-"+e*b+"px, 0px)","-webkit-transform":"translate(-"+e*b+"px, 0px)"}),b++,b==B&&x.removeClass("screensArrowsActive"),W.hasClass("screensArrowsActive")||W.addClass("screensArrowsActive")}}),W.click(function(){if(W.hasClass("screensArrowsActive")){b--;var e=18;1==b&&(e=0);var s=$("#screensOfHide").width();$("#screensWrapOuter").css({transform:"translate(-"+(s*(b-1)+e)+"px, 0px)","-webkit-transform":"translate(-"+(s*(b-1)+e)+"px, 0px)"}),1==b&&W.removeClass("screensArrowsActive"),x.hasClass("screensArrowsActive")||x.addClass("screensArrowsActive")}}),m.on("filter.shuffle",function(){}),m.on("filtered.shuffle",function(){b=1,$("#screensWrapOuter").css({transform:"translate(0px, 0px)","-webkit-transform":"translate(0px, 0px)"}),g=$("#screensWrap .filtered"),$(window).width()<768?(B=g.length,g.length<1?(x.removeClass("screensArrowsActive"),W.removeClass("screensArrowsActive")):($(".screensArrows").show(),x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))):$(window).width()>=768&&$(window).width()<=1070?(B=Math.ceil(g.length/2),g.length<3?(x.removeClass("screensArrowsActive"),W.removeClass("screensArrowsActive")):($(".screensArrows").show(),x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive"))):(B=Math.ceil(g.length/4),console.log(g.length),g.length<5?(x.removeClass("screensArrowsActive"),W.removeClass("screensArrowsActive")):($(".screensArrows").show(),x.addClass("screensArrowsActive"),W.removeClass("screensArrowsActive")))}),l.click(function(){i.hasClass("fmToggled")?i.hasClass("fmToggled")&&i.removeClass("fmToggled"):i.addClass("fmToggled")});var k;window.onresize=function(){clearTimeout(k),k=setTimeout(e,300)},$("#sendmail").on("submit",function(e){e.preventDefault(),$(".fa-form-wait").css("display","inline-block"),$.ajax({type:"POST",url:$("#sendmail").attr("action"),data:$("#sendmail").serialize(),success:function(e){var s=JSON.parse(e);$(".fa-form-wait").css("display","none"),"error"==s.type?$("#formSubmitMessage").html('<span style="color: #AA0000;"><i class="fa fa-exclamation-circle"></i> '+s.text+"</span>"):($("#formSubmitMessage").html('<span style="color: #40A6A6;"><i class="fa fa-check-circle"></i> '+s.text+"</span>"),$("#sendmail").slideUp())}})})});